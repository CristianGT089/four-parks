SELECT * FROM PARKINGSPACE ps
WHERE ps.FK_IDCITY = 'BOG'
AND ps.FK_IDPARKING = 1
AND NOT EXISTS (
	SELECT 1
	FROM RESERVATION r
	WHERE r.FK_IDPARKINGSPACE = ps.IDPARKINGSPACE
	AND r.DATERES = '2024-05-01'
	AND (
		(r.STARTTIMERES <= '11:00:00' AND r.ENDTIMERES > '11:00:00'
		OR (r.STARTTIMERES < '12:00:00' AND r.ENDTIMERES >= '12:00:00')
		OR (r.STARTTIMERES >= '11:00:00' AND r.ENDTIMERES <= '12:00:00')
		)
	)
);
